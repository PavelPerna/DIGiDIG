# DIGiDIG Configuration
# This is the main configuration file for all services

# Database Configuration
database:
  postgres:
    host: postgres
    port: 5432
    user: postgres
    password: securepassword  # Default from docker-compose. Change in production!
    database: strategos
  
  mongodb:
    host: mongo
    port: 27017
    database: strategos_storage

# Service URLs (internal Docker network)
services:
  identity:
    host: identity
    port: 8001
    url: http://identity:8001
  
  smtp:
    host: smtp
    smtp_port: 2525
    rest_port: 8000
    rest_url: http://smtp:8000
  
  imap:
    host: imap
    port: 143
    rest_port: 8003
    rest_url: http://imap:8003
  
  storage:
    host: storage
    port: 8002
    url: http://storage:8002
  
  admin:
    host: admin
    port: 8005
    url: http://admin:8005
  
  client:
    host: client
    port: 8004
    url: http://client:8004
  
  sso:
    host: sso
    port: 8006
    url: http://sso:8006

# Security Configuration
security:
  jwt:
    secret: "b8_XYZ123abc456DEF789ghiJKL0mnoPQ"  # Change in production!
    algorithm: HS256
    access_token_expire_minutes: 30
    refresh_token_expire_days: 7
  
  admin:
    email: "admin@example.com"
    password: "admin"  # Change in production!
  
  cookie:
    secure: false  # Set to true in production with HTTPS
    samesite: "lax"

# Email Configuration
email:
  domains:
    - "example.com"
  
  smtp:
    enable_auth: true
    enable_tls: false  # Enable in production
  
  storage:
    default_folder: "INBOX"
    max_message_size_mb: 25

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Test Configuration (only for test environment)
test:
  enabled: false
  skip_compose: false
